{
  "meshConfig": {
    "sources": [
      {
        "name": "commercerest",
        "handler": {
          "openapi": {
            "source": "https://citisignal-com774.adobedemo.com/rest/all/schema?services=all",
            "operationHeaders": {
              "Authorization": "Bearer {context.headers.x-commerce-token}",
              "Content-Type": "application/json"
            }
          }
        }
      },
      {
        "name": "catalogservice",
        "handler": {
          "graphql": {
            "endpoint": "https://citisignal-com774.adobedemo.com/graphql",
            "operationHeaders": {
              "X-Api-Key": "{context.headers.x-catalog-api-key}",
              "Magento-Environment-Id": "{context.headers.x-catalog-environment-id}",
              "Magento-Store-Code": "{context.headers.x-catalog-store-code}",
              "Content-Type": "application/json"
            }
          }
        }
      }
    ],
    "additionalResolvers": ["./mesh-resolvers.js"],
    "additionalTypeDefs": [
      "type MeshStatus { resolver_working: Boolean token_received: Boolean token_length: Int timestamp: String message: String } type ProductComparison { rest_count: Int catalog_count: Int difference: Int status: String message: String } type EnhancedProducts { rest_total: Int catalog_total: Int combined_total: Int message: String status: String } extend type Query { mesh_status: MeshStatus mesh_product_comparison: ProductComparison enhanced_products(pageSize: Int, currentPage: Int): EnhancedProducts }"
    ]
  }
}
